<!DOCTYPE html>
<html>
<head>
  <title>1Click Autofill with Temp Mail</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <!-- Inbox Container -->
    <div id="inboxContainer" class="horizontal-section">
      <div class="inbox-dropdown-container">
        <div id="inboxDropdown" class="inbox-dropdown">
          <div class="dropdown-selected">Select an inbox</div>
          <ul class="dropdown-list" style="display: none;"></ul>
        </div>
        <button id="copyEmailButton" class="icon-button copy-button" title="Copy Email" style="display: none;">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
            <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"></path>
          </svg>
        </button>
        <button id="addInboxButton" class="icon-button" title="Add New Inbox">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 5v14M5 12h14"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Messages Section -->
    <div class="messages-container">
      <div class="messages-header">
        <h3 class="messages-title">Inbox</h3>
        <button id="refreshMessages" class="icon-button" title="Refresh Messages">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
            <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
          </svg>
        </button>
      </div>
      <div id="messagesList"></div>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button id="startSignup">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M5 12h14M12 5l7 7-7 7"/>
        </svg>
        Autofill Details
      </button>

      <!-- Latest OTP Section -->
      <div id="latestOtpContainer" class="otp-container" style="flex: 1;">
        <div class="otp-header">
          <h3 class="otp-title">Latest OTP Code:</h3>
        </div>
        <div class="otp-display">
          <span id="latestOtpCode">------</span>
          <button id="copyOtpButton" class="copy-button" title="Copy OTP">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- History Section -->
    <div class="history-section">
      <div class="history-header">
        <h3 class="history-title">Email History</h3>
        <button id="historyButton" class="icon-button" title="View Email History">
          <img src="icons/history.svg" alt="History" width="20" height="20">
        </button>
      </div>
      <div id="emailHistoryList"></div>
    </div>

    <!-- Login Info Section -->
    <div class="login-info-section">
      <div class="login-info-header">
        <h3 class="login-info-title">Saved Login Information</h3>
        <button id="loginInfoButton" class="icon-button" title="View Login Information">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path>
            <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
          </svg>
        </button>
      </div>
      <div id="savedLoginInfo"></div>
    </div>

    <!-- About Section -->
    <div class="about-section">
      <div class="version">Version 1.0</div>
      <div class="about-buttons">
        <button id="exportData" class="icon-button" title="Export Data">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 13v6a2 2 0 01-2 2H7a2 2 0 01-2-2v-6"></path>
            <path d="M12 3v12"></path>
            <path d="M9 12l3 3 3-3"></path>
          </svg>
        </button>
        <button id="importData" class="icon-button" title="Import Data">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 13v6a2 2 0 01-2 2H7a2 2 0 01-2-2v-6"></path>
            <path d="M12 15V3"></path>
            <path d="M15 6l-3-3-3 3"></path>
          </svg>
        </button>
        <button id="themeToggle" class="icon-button" title="Toggle Theme">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
          </svg>
        </button>
        <button id="reportIssue" class="icon-button" title="Report an Issue">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"></path>
            <path d="M12 16v.01M12 12V8"></path>
          </svg>
        </button>
      </div>
    </div>

    <!-- Message Detail Modal -->
    <div id="messageDetail" class="message-detail">
      <button id="backButton" class="back-button">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
        Back
      </button>
      <div id="messageDetailContent"></div>
    </div>
  </div>

  <!-- Cloudflare script -->
  <script nonce="z1z2z3z4z5">
    (function() {
      var a = document.createElement("script");
      a.src = "https://challenges.cloudflare.com/turnstile/v0/api.js";
      a.async = true;
      a.defer = true;
      document.head.appendChild(a);
    })();
  </script>

  <script src="data-manager.js"></script>
  <script src="popup.js"></script>
</body>
</html>